{{#add-item-modal action="addItem" enabled=false title="Add New Item" id="add-item-modal"}}
{{/add-item-modal}}
<div class="row">
  <div class="col-xs-3">
    <ul>
      {{#each characters as |char|}}
        <li>
          <button class="btn btn-default" {{action 'changeCharacter' char}}>{{char.name}} <span class="">{{char.level}}</span></button>
        </li>
      {{/each}}
      <li>
        <button class="btn btn-default" {{action 'addCharacter'}}>Add</button>
      </li>
    </ul>
  </div>
  <div class="col-xs-9">
    <div class="row">
      <div class="col-xs-6 col-xs-offset-3 text-center">
        <h1 class="character-name">{{ character.name }}</h1>
        <div class="level">
            <span class="character-detail">Level <span class="character-level">{{ character.level }}</span> {{ character.class }}</span>
        </div>
        <button class="btn btn-success" {{action "saveCharacter"}}>Save</button>
        <button class="btn btn-danger" {{action 'deleteCharacter' character}}>Delete</button>
        <div class="character-detail">Health</div>
        <div class="progress">
          <div class="progress-bar progress-bar-danger" role="progressbar"
              aria-valuenow="100"
              aria-valuemin="0"
              aria-valuemax="100"
              style="width: 100%">
            {{character.maxHealth}}/{{character.maxHealth}}
          </div>
        </div>
        <div class="character-detail">Mana</div>
        <div class="progress">
          <div class="progress-bar progress-bar-info" role="progressbar"
              aria-valuenow="100"
              aria-valuemin="0"
              aria-valuemax="100"
              style="width: 100%">
            {{character.maxMana}}/{{character.maxMana}}
          </div>
        </div>
        <div class="character-detail">Weight</div>
        <div class="progress">
          <div class="progress-bar progress-bar-warning" role="progressbar"
              aria-valuenow="100"
              aria-valuemin="0"
              aria-valuemax="100"
              style="width: {{burdenPercent}}%">
            {{character.itemWeight}}/{{character.maxWeight}}
          </div>
        </div>
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col-xs-4">
        <div>
          <i class="fa fa-bar-chart-o fa-3x"></i>&nbsp;<span class="character-header">Stats <button class="btn btn-info" {{ action 'levelUp' }}>Level Up</button></span>
          <table class="centered table table-striped">
            <thead>
              <tr>
                <th class="col-sm-6">Stat</th>
                <th class="col-sm-2">Value</th>
                <th class="col-sm-2">Lower</th>
                <th class="col-sm-2">Raise</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="col-sm-6">Strength</td>
                <td class="col-sm-2">{{ character.strength }}</td>
                <td class="col-sm-2"><button class="btn btn-info" {{action "decreaseStat" "strength"}}>-</button></td>
                <td class="col-sm-2"><button class="btn btn-info" {{action "increaseStat" "strength"}}>+</button></td>
              </tr>
              <tr>
                <td class="col-sm-6">Intelligence</td>
                <td class="col-sm-2">{{ character.intelligence }}</td>
                <td class="col-sm-2"><button class="btn btn-info" {{action "decreaseStat" "intelligence"}}>-</button></td>
                <td class="col-sm-2"><button class="btn btn-info" {{action "increaseStat" "intelligence"}}>+</button></td>
              </tr>
              <tr>
                <td class="col-sm-6">Wisdom</td>
                <td class="col-sm-2">{{ character.wisdom }}</td>
                <td class="col-sm-2"><button class="btn btn-info" {{action "decreaseStat" "wisdom"}}>-</button></td>
                <td class="col-sm-2"><button class="btn btn-info" {{action "increaseStat" "wisdom"}}>+</button></td>
              </tr>
              <tr>
                <td class="col-sm-6">Dexterity</td>
                <td class="col-sm-2">{{ character.dexterity }}</td>
                <td class="col-sm-2"><button class="btn btn-info" {{action "decreaseStat" "dexterity"}}>-</button></td>
                <td class="col-sm-2"><button class="btn btn-info" {{action "increaseStat" "dexterity"}}>+</button></td>
              </tr>
              <tr>
                <td class="col-sm-6">Constitution</td>
                <td class="col-sm-2">{{ character.constitution }}</td>
                <td class="col-sm-2"><button class="btn btn-info" {{action "decreaseStat" "constitution"}}>-</button></td>
                <td class="col-sm-2"><button class="btn btn-info" {{action "increaseStat" "constitution"}}>+</button></td>
              </tr>
              <tr>
                <td class="col-sm-6">Charisma</td>
                <td class="col-sm-2">{{ character.charisma }}</td>
                <td class="col-sm-2"><button class="btn btn-info" {{action "decreaseStat" "charisma"}}>-</button></td>
                <td class="col-sm-2"><button class="btn btn-info" {{action "increaseStat" "charisma"}}>+</button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="col-xs-6 col-xs-offset-2">
        <div>
          <i class="fa fa-diamond fa-3x"></i>&nbsp;<span class="character-header">Items
            <button class="btn btn-info" {{action 'openAddItemModal'}}>Add</button></span>
          {{#if hasItems}}
            <table class="centered table table-striped">
              <thead>
                <tr>
                  <th class="col-xs-6">Name</th>
                  <th class="col-xs-2">Weight</th>
                  <th class="col-xs-1"><i class="fa fa-heart-o"></i></th>
                  <th class="col-xs-1"><i class="fa fa-hand-rock-o"></i></th>
                  <th class="col-xs-2">Remove</th>
                </tr>
              </thead>
              <tbody>
                {{#each character.items as |item|}}
                <tr>
                  <td class="col-xs-6">{{ item.name }}</td>
                  <td class="col-xs-2">{{ item.weight }}</td>
                  <td class="col-xs-1">{{ item.bonuses.constitution }}</td>
                  <td class="col-xs-1">{{ item.bonuses.strength }}</td>
                  <td class="col-xs-2"><button class="btn btn-info" {{ action 'removeItem' item }}>X</button></td>
                </tr>
                {{/each}}
              </tbody>
            </table>
          {{else}}
            <div>You don't have any items.</div>
          {{/if}}
        </div>
      </div>
    </div>
  </div>
</div>
<!--
Change model to be promise (list of characters?)
in route's model return all the characters from store (findAll)
make regular screen just use first character (characters.firstObject)
make 'characters' the model, not 'character'
if you wanted to add, make an action (then create char, save, pushObject(actually dont pushObject))

-->
